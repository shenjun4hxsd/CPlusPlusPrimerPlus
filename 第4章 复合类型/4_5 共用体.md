##å…±ç”¨ä½“

å…±ç”¨ä½“ï¼ˆunionï¼‰æ˜¯ä¸€ç§æ•°æ®æ ¼å¼ï¼Œå®ƒèƒ½å¤Ÿå­˜å‚¨ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä½†åªèƒ½åŒæ—¶å­˜å‚¨å…¶ä¸­çš„ä¸€ç§ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç»“æ„å¯ä»¥åŒæ—¶å­˜å‚¨intã€longå’Œdoubleï¼Œå…±ç”¨ä½“åªèƒ½å­˜å‚¨intã€longå’Œdoubleã€‚å…±ç”¨ä½“çš„å¥æ³•ä¸ç»“æ„ä½“ç›¸ä¼¼ï¼Œä½†å«ä¹‰ä¸åŒã€‚

```javascript
    union one4all
    {
        int int_val;
        long long_val;
        double double_val;
    };
    
    one4all pail;
    pail.int_val = 15;
    pail.doubl_val = 1.38;
```

å› æ­¤ï¼Œpailæœ‰æ—¶å¯ä»¥æ˜¯intå˜é‡ï¼Œè€Œæœ‰æ—¶åˆå¯ä»¥æ˜¯doubleå˜é‡ã€‚æˆå‘˜åç§°æ ‡è¯†äº†å˜é‡çš„å®¹é‡ã€‚ç”±äºå…±ç”¨ä½“æ¯æ¬¡åªèƒ½å­˜å‚¨ä¸€ä¸ªå€¼ï¼Œå› æ­¤å®ƒå¿…é¡»æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å­˜å‚¨æœ€å¤§çš„æˆå‘˜ï¼Œæ‰€ä»¥ï¼Œå…±ç”¨ä½“çš„é•¿åº¦ä¸ºå…¶æœ€å¤§æˆå‘˜çš„é•¿åº¦ã€‚

å…±ç”¨ä½“çš„ç”¨é€”ä¹‹ä¸€æ˜¯ï¼Œå½“æ•°æ®é¡¹ä½¿ç”¨ä¸¤ç§æˆ–æ›´å¤šç§æ ¼å¼ï¼ˆä½†ä¸ä¼šåŒæ—¶ä½¿ç”¨ï¼‰æ—¶ï¼Œå¯èŠ‚çœç©ºé—´ã€‚

```javascript
    struct StudentInfo4
    {
        std::string name;
        int age;
        union id
        {
            long id_num;
            char id_char[20];
        } id_val;
    };
    
    struct StudentInfo5
    {
        std::string name;
        int age;
        union // åŒ¿åå…±ç”¨ä½“
        {
            long id_num;
            char id_char[20];
        };
    };
    
    int main()
    {
        //    StudentInfo4 info {"shenjun", 40};
        //    strcpy(info.id_val.id_char, "id_val");
        //    cout << info.id_val.id_char << endl;
        //    cout << info.id_val.id_num << endl;
        
        StudentInfo5 info {"shenjun", 40};
        strcpy(info.id_char, "id_char!");
        // ç”±äºå…±ç”¨ä½“æ˜¯åŒ¿åçš„ï¼Œå› æ­¤id_numå’Œid_charè¢«è§†ä¸ºinfoçš„ä¸¤ä¸ªæˆå‘˜ï¼Œä»–ä»¬çš„åœ°å€ç›¸åŒï¼Œæ‰€ä»¥ä¸éœ€è¦ä¸­é—´æ ‡è¯†ç¬¦id_valã€‚ç¨‹åºå‘˜è´Ÿè´£ç¡®å®šå“ªä¸ªæˆå‘˜æ˜¯æ´»åŠ¨çš„ã€‚
        cout << info.id_char << endl;

        return 0;
    }
```

ğŸ”š